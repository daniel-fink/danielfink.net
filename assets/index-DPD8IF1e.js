var hn=Object.defineProperty;var gn=(a,e,t)=>e in a?hn(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var b=(a,e,t)=>gn(a,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const xe="About",_e=[{type:"image",popout:!1,value:"df_profile-sq.png"},{type:"body",value:"Daniel Fink is an expert in applying the state-of-the-art to architecture, planning, and property development. With over fifteen years experience in both practice and academia, his focus is in building digital and physical workflows, platforms, and tools that integrate computational design, real estate finance and geospatial science, with project and product delivery."},{type:"body",value:"Daniel is currently an Independent Consultant to commercial, academic, and government clients, and is a Senior Associate at AR-MA, an advanced design computing and fabrication consultancy. He was previously a Lead Researcher at MIT’s Real Estate Innovation Lab, and was an Urban Design Project Lead at Grimshaw Architects. He has directed numerous design, software, & research teams, published academic papers in leading journals, had work featured at multiple exhibitions, and been an invited lecturer at major universities around the world. Daniel holds a Master of Science in Architecture from MIT, and a Master of Architecture and Bachelor in Design from the University of Sydney."},{type:"body",value:"Independent Consultant<br>Senior Associate, [AR-MA](https://ar-ma.net)<br>Advisor, [Black Oak Group](https://blackoakgroup.co)<br>Lead Researcher (fmr.), [MIT Real Estate Innovation Lab](https://realestateinnovationlab.mit.edu)"},{type:"body",value:"SMArchS (Massachusetts Institute of Technology)<br>MArch (Hons.) (University of Sydney)<br>BDesArch (University of Sydney)"},{type:"body",value:"Email: daniel@danielfink.net<br>Github: [github.com/daniel-fink](https://www.github.com/daniel-fink)"},{type:"body",value:"Download my CV here: [Curriculum Vitae](/dfink-cv.pdf)"}],mn={title:xe,blocks:_e},fn=Object.freeze(Object.defineProperty({__proto__:null,blocks:_e,default:mn,title:xe},Symbol.toStringTag,{value:"Module"})),Se="Approach",Te=0,Ae=[{type:"subtitle",value:"Linking Design to Finance"},{type:"body",value:"New digital tools are making it easier to create detailed, accurate models of property development. By combining financial analysis with design and delivery planning, teams can now get a clear, shared view of how a project is likely to perform and where the opportunities lie."},{type:"subtitle",value:"Tailored Solutions from Common Foundations"},{type:"body",value:"Every project is different, but starting from scratch each time is risky. By turning expert knowledge — like rules of thumb, benchmarks, and best practices — into software and data tools, we can build flexible foundations that others can use and adapt. On top of that, we can create custom tools for each project or client. This approach lets teams use the best available methods while still keeping their unique expertise."}],bn={title:Se,index:Te,blocks:Ae},yn=Object.freeze(Object.defineProperty({__proto__:null,blocks:Ae,default:bn,index:Te,title:Se},Symbol.toStringTag,{value:"Module"})),$e="Digital Tools & Workflows",Re=1,Ce=[{type:"subtitle",value:"Asset-level"},{type:"body",value:`- Assisted & Automated Scenario-generation for Massing, Use-mix, Blocking & Stacking
- Integrated Design, Engineering & Financial Analysis per Scenario, including:
  - Space- & Part-level Micro-Proformas
  - Views & Daylighting Analysis and Revenue Premia
  - Solar Analysis and Operations Costs
- Flexibility Strategies (Use, Phasing Scenarios) and Upside Risk Opportunities
 #### Example Projects:
 - [Rangekeeper](#Rangekeeper): An open-source code library for financial modelling of real estate assets & development.
 - [Lendlease Podium for Development (Podium.io)](https://podium.io): Integrated financial modelling workspace for real estate development software platform
- [The value of daylight in office spaces](https://www.sciencedirect.com/science/article/abs/pii/S0360132319307152): Econometric analysis identifying rent premia from good daylight, published in Building and Environment`},{type:"subtitle",value:"Neighborhood-level"},{type:"body",value:`- Urban Design & Masterplanning services
- Automated Financial Proforma Generation per-Parcel
- Regulatory Constraint Modelling per-Parcel
- Automated Highest & Best Use Analysis per-Parcel
- Solar Overshadowing & Daylighting Modelling per-Scenario
 #### Example Projects:
 - [Central to Eveleigh Urban Transformation Strategy](https://www.centraltoeveleigh.nsw.gov.au/uts/uts/), Sydney. With Grimshaw Architects (Design Lead) 
 - Maribyrnong Defense Site, Melbourne. With Grimshaw Architects (Design Lead)
 - [City of Boston Housing Development Interactive Educational Toolkit](https://placeful.github.io/housingilab/): A webapp for user-directed learning about property development outcomes and urban planning rules
 - [MIT Media Lab CityScope Financial Modelling Module](https://realestateinnovationlab.mit.edu/research_article/automated-financial-modeling-for-urban-design/): Precinct-level economic outcomes analysis for immersive workshops`},{type:"subtitle",value:"Region-level"},{type:"body",value:`- Property Market Pricing Dynamics Simulation
- Automated & Assisted Site Prospecting
 #### Example Projects:
 - Greater Sydney Missing-Middle Site-finder (Confidential Client)
 - Black Oak Ventures Prospector: An integrated CRM and geospatial analysis application for townhome development in California`}],kn={title:$e,index:Re,blocks:Ce},wn=Object.freeze(Object.defineProperty({__proto__:null,blocks:Ce,default:kn,index:Re,title:$e},Symbol.toStringTag,{value:"Module"})),ze="Complex Urbanities",Ee=1,Le="2018-09-01",Pe="The Byera Hadley Travelling Scholarship is Australia’s most prestigious architectural bequest. It provides funding of up to $30,000 for students of architecture to undertake travel-based research that contributes to the advancement of the discipline. 'Complex Urbanities: Digital Techniques in Urban Design' is a result of my scholarship, exploring the evolving role of computational design in urban design & development.",Ie=[{type:"body",value:"The report investigates the transformative potential of computational approaches in urban design through four in-depth interviews with leaders in architecture, computer science, and practice. The conversations explore how digital methods can reshape urbanism, from grassroots development models to top-down planning systems, with particular emphasis on democratization, complexity, and cross-disciplinarity."},{type:"image",value:"bh01.png"},{type:"body",value:`- Dan Hill (urbanist & technologist) argues that designers must move beyond buildings to engage with socio-technical systems and platforms, using technology to create distributed, civic-oriented infrastructures and redefine value in urbanism.
- José Duarte & José Beirão (academics in architecture) see computational grammars as tools to balance complexity and customization in urban design, advocating for systems that embed social values and align with planning practice.
- Peter Wonka (academic in computer science) highlights the technical difficulties of urban computation and stresses the need for human-guided tools that support exploration over automation, requiring close collaboration between designers and engineers.
- Christian Derix (architect & urban designer) champions computation as a means to support civic outcomes and resist poor planning, cautioning against techno-solutionism and calling for more values-driven, multi-scalar approaches.`},{type:"body",value:"The interviews reveal shared views on how digital technologies are reshaping urbanism; not only in form, but in governance, experience, and decision-making. There is a clear shift from designing objects to designing systems, with computation enabling both generation and evaluation. Designers are increasingly seen as architects of platforms and processes, not just spaces. While digital tools can democratize design, they can also centralize control, making the intent and structure of these tools critical. Computation is thus positioned not just as a technical aid, but as a mediator of values and social outcomes."},{type:"body",value:"Download the report from the NSW Architects' Registration Board resource library: [Complex Urbanities: Digital Techniques in Urban Design](https://www.architects.nsw.gov.au/resource-library/research-reports/report/15?search=&report_tags=&locations=)"}],vn={title:ze,index:Ee,date:Le,description:Pe,blocks:Ie},xn=Object.freeze(Object.defineProperty({__proto__:null,blocks:Ie,date:Le,default:vn,description:Pe,index:Ee,title:ze},Symbol.toStringTag,{value:"Module"})),je="Floor-shape Constraint Solving",De=5,Me=null,Be="A toolset that reshapes building floorplates while maintaining overall area and design intent. Developed in response to difficulties in complying with both planning constraints and design intent during early-stage urban form development.",qe=[{type:"body",value:"Automated design tools often generate geometry through procedural algorithms, but adjusting these algorithms' input parameters to meet global performance constraints (such as total floor area) can be challenging. When such constraints aren’t satisfied, it’s rarely obvious which parameters need modification. As a result, designers must rely on trial-and-error iterations, which can be time-consuming and often misaligned with the original design intent. Reverse-engineering procedural steps to identify how to make those adjustments can be ambiguous and complex.<br><br>To address this, I developed a computational toolset for reshaping building floorplates while preserving global properties, like total area. It allows designers to directly manipulate vertex positions and edge lengths, while underlying geometric rules maintain area consistency. This approach blends precise constraint solving with intuitive user control, enabling flexible yet compliant design exploration aligned with project goals."},{type:"video",value:"kalamata01.mp4"},{type:"body",value:"Codenamed 'Kalamata', the toolset was implemented in Grasshopper, and consists of a series of customised components that specify goals/constraints that extend the [Kangaroo Constraint Solver](http://kangaroo3d.com/). As opposed to conventional decomposition, symbolic, or constraint propagation techniques, Kangaroo makes use of an axial force-based equilibrium solver, which means it is very easy to define custom goals, however it comes at the expense of accuracy and robustness. Future work can utilize more robust solutions such as the [SolveSpace library](https://solvespace.com/library.pl)."},{type:"image",value:"kalamata02.png"},{type:"body",value:"Fundamentally, the components enable specifying an area goal for a shape, while retaining the directionality of the shape's edges. This means that the user can specify a target area, and then drag the vertices of the shape to adjust its form, while the area and overall shape topology remains constant."},{type:"image",value:"kalamata03.png"},{type:"body",value:"In addition, the edge lengths of a shape can be clamped between minimum and maximum lengths, multiple shapes can be inhibited from colliding, and internal 'voids' can be inhibited from overlapped external edges. This facilitates the kinds of typical geometric moves in massing design and floorplate planning."},{type:"image",value:"kalamata04.png"}],_n={title:je,index:De,date:Me,description:Be,blocks:qe},Sn=Object.freeze(Object.defineProperty({__proto__:null,blocks:qe,date:Me,default:_n,description:Be,index:De,title:je},Symbol.toStringTag,{value:"Module"})),Oe="Computational Network Design",Ne=3,He="2016-07-11",Ge="Under the leadership of UCL Smart Geometry Lab Prof. Niloy Mitra and lead author Chi-Han Peng, this paper presents a computational method for generating network layouts—such as streets or floorplans—based solely on high-level functional specifications like density, travel time, and traffic type. Using an integer programming approach, the method guarantees valid networks that meet all constraints and perform well on defined objectives.",Ue=[{type:"body",value:"Designing networks (especially in multi-disciplinary domains like street traffic or office floorplans) is typically a manual and iterative process involving planners and engineers. Accurately predicting network performance through visual inspection alone is inherently challenging, and existing tools predominantly rely on geometric precedents or are limited to performance analysis rather than generative synthesis."},{type:"body",value:`#### Computational Network Design from Functional Specifications
 Published in: ACM Transactions on Graphics, 11 July 2016`},{type:"image",value:"network01.png"},{type:"body",value:`We propose user-definition of functional specifications, or descriptions intended network behaviour. These include: 
- Density: how tightly connected the network should be.
- Travel time vs. length: balance between total edge length and access.
- Traffic type: boundary-to-boundary, interior-to-boundary, or interior-to-interior.
- Sink locations: destinations placements (e.g., shops, exits).
- Local features: preference for or avoidance of T-junctions, dead-ends, etc.
- User specifications: forced inclusions (e.g., direct connections), or exclusions (e.g., obstacles).`},{type:"body",value:"The functional requirements are encoded into an integer programming formulation where variables represent the presence or absence of edges between network nodes; constraints enforce network validity, and the objective function encodes performance goals (e.g., minimize travel time, total length, maximize coverage)."},{type:"image",value:"network02.png"},{type:"body",value:"The approach and methodology was tested in a vehicular traffic scenario, using the [SUMO](https://eclipse.dev/sumo/) simulator. We benchmarked our synthesized networks against SUMO simulations across six scenarios, finding consistent results with only a near-constant underestimation of travel times. This confirms that functional specifications alone can effectively achieve design goals, demonstrating the robustness and practical utility of the approach."},{type:"body",value:"Access the paper here: [Computational network design from functional specifications](https://doi.org/10.1145/2897824.2925935)"}],Tn={title:Oe,index:Ne,date:He,description:Ge,blocks:Ue},An=Object.freeze(Object.defineProperty({__proto__:null,blocks:Ue,date:He,default:Tn,description:Ge,index:Ne,title:Oe},Symbol.toStringTag,{value:"Module"})),We="Pricing Daylight and Views",Fe=2,Ze="2021-11-01",Ve="Alongside MIT collaborators Dr. Irmak Turan, Dr. Andrea Chegut, and Dr. Christoph Reinhardt, statistically significant evidence was identified for the economic value of good daylighting and views for office spaces. In addition, we developed new metrics to measure the view potential for office spaces and demonstrated their productivity.",Qe=[{type:"body",value:"Access to daylight and views is not just a matter of architectural aesthetics; it directly impacts human well-being, workplace productivity, and economic value. In two companion studies, we combined environmental simulation with econometric modeling to quantify how much tenants in dense urban office markets are willing to pay for these spatial qualities."},{type:"body",value:`#### The value of daylight in office spaces
 Published in Building and Environment, 25 October 2019`},{type:"body",value:"This paper pairs spatial daylight simulation with a hedonic pricing model to empirically quantify how daylight access affects commercial office rents in Manhattan. It finds that office spaces with high daylight performance command 5–6% higher rents than similar spaces with low daylight. This premium is independent of sustainability certifications or building height, underscoring daylight as a financially material design factor. The study shows that only 26% of office floors meet best-practice daylight levels, and argues that daylight should be a key consideration in investment and urban policy."},{type:"image",value:"daylight_views04.png"},{type:"body",value:"Our methodology was two-fold: first, we identified 5,154 floors in commercial office buildings in Manhattan, and created a an individual 3D model for each building those floors were in. We simulated the daylight distribution in each floorspace using climate-based backwards ray-tracing and measured the spatial daylight autonomy (sDA). We then input those results into an hedonic pricing model (multiple regression), that identifies the impact of each space's characteristics on its rent price. By controlling for exogenous building characteristics, lease contract terms, location fixed effects, and time fixed effects, we were able to isolate the impact of daylight on rent prices."},{type:"image",value:"daylight_views10.png"},{type:"body",value:"Access the paper here: [The value of daylight in office spaces](https://doi.org/10.1016/j.buildenv.2019.106503)<br><br>"},{type:"body",value:`#### Development of view potential metrics and the financial impact of views on office rents
 Published in Landscape and Urban Planning, 9 July 2021`},{type:"image",value:"daylight_views01.png"},{type:"body",value:"This paper introduces two quantitative metrics: Minimum View Potential (MVP); and Spatial View Access (sVA), to evaluate access to outdoor views in open-plan office spaces using 3D geometric models. Applied across 5,154 Manhattan offices, the analysis found that higher view access correlates with a 6% rent premium, independent of daylight quality. The findings establish not only a method for measuring visual connectivity in architectural spaces but also provide evidence for the economic value of views, informing design, development, and planning decisions."},{type:"image",value:"daylight_views12.png"},{type:"body",value:"Similarly to our previous paper, we simulate the potential view access to an office floor by backwards ray-tracing, and inputting those results into an hedonic pricing model, while controlling for all factors specified in our paper on daylighting. Because daylight and views are closely related, we design a view metric (sVA3) to exclude sky views, and then interact that measure with the daylight metric (sDA) to isolate the conditional marginal effect of having both high daylight and high view access. We find that spaces with high access to views have a 6% premium over spaces with low access, the same as those with *both* good views and daylight."},{type:"body",value:"Access the paper here: [Development of view potential metrics and the financial impact of views on office rents](https://doi.org/10.1016/j.landurbplan.2021.104193)"}],$n={title:We,index:Fe,date:Ze,description:Ve,blocks:Qe},Rn=Object.freeze(Object.defineProperty({__proto__:null,blocks:Qe,date:Ze,default:$n,description:Ve,index:Fe,title:We},Symbol.toStringTag,{value:"Module"})),Je="Automated Development Valuation",Xe=4,Ke=null,Ye="Rangekeeper is an open-source Python library that automates financial planning and modeling for real estate assets and development, initiated while I was at MIT's Real Estate Innovation Lab and continually developed since.",et=[{type:"body",value:"Rangekeeper enables real estate valuation at all stages and resolutions of description — from early-stage ‘back-of-the-envelope’ models to detailed commercial assessments, and can be completely synchronised with 3D design, engineering, and logistics modelling.<br><br>It decomposes elements of the Discounted Cash Flow (DCF) Proforma modelling approach into re-composable code functions that can be wired together to form a full model."},{type:"image",value:"rk01.png"},{type:"body",value:`Development of the library follows the rigorous methodology established by MIT Professors David Geltner and Richard de Neufville, in their book [Flexibility and Real Estate Valuation under Uncertainty: A Practical Guide for Developers](https://www.wiley.com/go/geltner-deneufville/flexibility-and-real-estate-valuation), and expands it into a more robust computational framework.<br><br>Critically, Rangekeeper provides two key features:
1. Market dynamics and flexibility policies that simulate real-world decision-making for development projects. By simulating real options (like go-no-go decisions) in response to real estate market idiosyncrasies like cyclicality, mean-reversion, and volatility, Rangekeeper can identify *optionality alpha* and nonlinear payoffs for a project.
2. An entity-relationship graph schema of a real estate asset that is ultra-configurable for modelling any project type or topology. Rangekeeper uses the object model for aggregations (roll-ups) of cash flows in order to evaluate financial performance of the project at any resolution.`},{type:"image",value:"rk02.png"},{type:"body",value:"Because it enables the *programmatic* simulation of the financial performance and flexibility of a real estate asset under uncertainty, Rangekeeper is intended to be tied to other representations of a project, such as 3D CAD, BIM, GIS, and OT (management & operations). This offers a more sophisticated, and realistic, simulation of real estate investment scenarios."},{type:"image",value:"rk03.png"},{type:"image",value:"rk04.png"},{type:"body",value:"The first integrations are with [Speckle](https://speckle.systems) (a platform for connecting 3D design and engineering data) via an API, and [Rhinoceros 3D's Grasshopper](https://www.rhino3d.com/grasshopper) (a visual programming environment), via a set of Grasshopper components that extend Speckle Objects with Rangekeeper entity-relationship graph features."},{type:"body",value:"Rangekeeper is hosted on GitHub here: [https://github.com/daniel-fink/rangekeeper](https://github.com/daniel-fink/rangekeeper), and a walkthrough explaining its use and features can be found here: [https://daniel-fink.github.io/rangekeeper/](https://daniel-fink.github.io/rangekeeper/)"}],Cn={title:Je,index:Xe,date:Ke,description:Ye,blocks:et},zn=Object.freeze(Object.defineProperty({__proto__:null,blocks:et,date:Ke,default:Cn,description:Ye,index:Xe,title:Je},Symbol.toStringTag,{value:"Module"})),tt="Linking Design to Finance",nt=0,it="2017-05-25",st="'Linking Design to Finance: Enabling a Co-Operative Developer Platform through Automated Design and Valuation' was a SMArchS thesis at MIT, completed in 2017. It explores the intersection of design computation and finance in urban development.",at=[{type:"body",value:"Urban design is undergoing a transformation. As data becomes ubiquitous, computation more powerful, and finance more abstracted, the instruments of city-making — currently harnessed by well-capitalized and sophisticated actors — are increasingly within reach.<br><br> This thesis asks: *what happens when design, data, and finance are not just digitized, but democratized?*<br><br> Grounded in both innovation diffusion theory and precedents of collective urban production (from co-housing to co-working), the thesis responds to a key structural challenge: while urban design and feasibility analysis are increasingly supported by automation and data, access to land and capital remains prohibitively exclusive. The project hypothesizes that linking generative design tools with real-time financial modelling can lower participation barriers and enable decentralized, community-led development."},{type:"image",value:"thesis01.png"},{type:"body",value:"The technical core involves two linked systems, hypothesised as patents for computer systems:"},{type:"video",value:"nycd316.mp4"},{type:"body",value:"1. *A design rationalization engine*, which adjusts user-drawn building forms to meet spatial and policy constraints, while retaining design intent. It shifts design from drawing to reasoning, enabling rapid exploration of viable options and envisages an easier on-ramp to urban form-making for non-experts."},{type:"video",value:"nycd111-sm.mp4"},{type:"body",value:"2. *An automated financial simulator*, which calculates a design's cash flows and development costs in real time. It closes the gap between design intent and feasibility, reveals hidden financial constraints, and invites broader participation in development decisions."},{type:"body",value:"A design project follows that speculates on the productivity of those patents within a *computational co-developer platform*: a system that lets groups simulate and shape viable urban projects across multiple sites. I tested these tools through a speculative case study in New York City — spanning 36 sites and 1,000 inhabitants — not as a proposal, but as a provocation:<br><br> *What if distributed groups could originate, fund, and deliver their own networks of housing and workspace?*<br><br>The system generates thousands of development permutations; visualized as a ‘performance surface’ spanning design inputs (ie FAR and open-space ratios) and financial outcomes (NPV and IRR). Recognizing that not all individual parcels must be profitable on their own, the project introduces a portfolio-based strategy: enabling cross-subsidization between sites, programs, and typologies to optimize return and space utility across the collective<br><br>The optimization problem — balancing financial yield, spatial provision, and site constraints — is solved via non-linear methods, due to the lumpy, discontinuous nature of the design-performance space. The result is a development logic akin to portfolio theory: maximizing aggregate value while tolerating variance in individual asset performance.<br><br>This work ultimately proposes a new role for platform technologies in shaping urban production. By extending access to both financial insight and design agency, the system reframes the developer as a distributed, participatory entity, aligned around co-ownership, co-design, and co-programming. It suggests a pathway toward public-facing capital stacks and user-driven urban form, operationalizing the ‘right to the city’ through computational tools."},{type:"image",value:"thesis03.png"},{type:"body",value:"Download the thesis from MIT's DSpace repository: [Linking Design to Finance](https://dspace.mit.edu/handle/1721.1/115439)"}],En={title:tt,index:nt,date:it,description:st,blocks:at},Ln=Object.freeze(Object.defineProperty({__proto__:null,blocks:at,date:it,default:En,description:st,index:nt,title:tt},Symbol.toStringTag,{value:"Module"})),ot="Urban Transformation Projects",rt=7,lt="2023-09-01",ct="As Urban Design Lead at Grimshaw, I delivered multiple urban design and strategy projects for government and institutional clients. In coordinating and amplifying their inter-disciplinary spatial and operational requirements, these projects exemplify ambitious place- and city-making.",pt=[{type:"body",value:`##### Central to Eveleigh (C2E) Urban Transformation Strategy
Sydney, Australia, 2013-2015<br><br> 20-year urban transformation strategy aiming to revitalize prime government-owned land in the centre of Sydney, into a vibrant and mixed-use precinct while preserving its industrial heritage.`},{type:"image",value:"c2e01.jpg"},{type:"body",value:"The project showcased a contemporary global city built around compact homes, shared spaces, and strong cultural and community connections. By prioritizing diverse housing, vibrant local economies, high-quality public places, and better transport management, the strategy highlighted inclusive growth through affordable housing, improved transport connections, and public space upgrades."},{type:"image",value:"c2e03.png"},{type:"body",value:"The engagement facilitated a consultative framework for urban planning among government, industry, and the community, that set the basis for collaboration to guide future masterplanning and precinct development."},{type:"body",value:`##### Maribyrnong Defense Site Redevelopment
Melbourne, Australia, 2011-2013<br><br>Redevelopment of a 128-hectare former Defence Site into one of Victoria’s largest urban infill projects. It aimed to transform a historically closed riverside area into a vibrant, sustainable community. Shaped through extensive community consultation, the project offered diverse and affordable housing, new public open spaces with river access, restored heritage buildings, community facilities, and local employment opportunities.`},{type:"image",value:"mds02.jpg"},{type:"body",value:"The engagement for a comprehensive overall strategic masterplan was to structure the future development's approach and requirements for design, sustainability, infrastructure, delivery, and community consultation. It resulted in documentation of eight key goals, involving strategic rehabilitation of contaminated soil into a waterside park, new transit connections, distinct neighbourhood identities with open space and amenities, and phased development zones integrating employment and housing to ensure financial viability."},{type:"image",value:"mds01.png"}],Pn={title:ot,index:rt,date:lt,description:ct,blocks:pt},In=Object.freeze(Object.defineProperty({__proto__:null,blocks:pt,date:lt,default:Pn,description:ct,index:rt,title:ot},Symbol.toStringTag,{value:"Module"})),dt="Computational Prospecting",ut=6,ht="2023-09-01",gt="Whirlwind is a computational prospecting and pre-development workflow. It uses a suite of open-source tools, like Rangekeeper, to assist data preparation, analysis, and visualization for automating site prospecting and projecting financial valuations. ",mt=[{type:"body",value:"A first use-case of Whirlwind was to identify and evaluate profitability of developing Duplexes (dual-occupancies) in R1 and R2 zones of the Greater Sydney Metropolitan Area."},{type:"image",value:"whirlwind02.png"},{type:"body",value:`Whirlwind works in three steps:
1. Acquisitions Analysis: a geostatistical projection of acquisition prices for legally conformant parcels based on historical sales data across 12,000+ [SA1 regions](https://www.abs.gov.au/census/guide-census-data/geography/census-geography-glossary#statistical-area-level-1-sa1-), using a multi-variate regression model.
2. Dispositions Analysis: similarly, a projection of average sales price for  developed Duplex units per SA1, based on historical sales data.
3. A unique financial feasibility analysis per SA1, taking into account the location's projected average acquisition and disposition prices, as well as development and construction costs based on a templated Duplex design.<br><br> The result is a set of development feasibility metrics for each of the 12,000+ SA1 regions in Greater Sydney, which can be used to identify the most profitable regions for more investigation and tuning to local characteristics.`},{type:"image",value:"whirlwind01.png"},{type:"body",value:"The workflow also facilitates sophisticated examination and exploration of the results, such as tracking trends of developable opportunity transactions over time, ranking best-performing neighborhoods, or visualising the distribution of lot dimensions (width and height), which can then be used to drive design and construction strategies."},{type:"image",value:"whirlwind03.png"},{type:"caption",value:"Visualising the distribution of development opportunity parcel dimensions, by their projected profitability"},{type:"image",value:"whirlwind04.png"},{type:"caption",value:"Ranking of SA2 regions by their projected profitability and capital requirements."}],jn={title:dt,index:ut,date:ht,description:gt,blocks:mt},Dn=Object.freeze(Object.defineProperty({__proto__:null,blocks:mt,date:ht,default:jn,description:gt,index:ut,title:dt},Symbol.toStringTag,{value:"Module"})),ft="/assets/bh01-BIR7m26d.png",bt="/assets/c2e01-C_SOoDrd.jpg",yt="/assets/c2e02-Bw1qpQKi.jpg",kt="/assets/c2e02-CxcLzjRJ.png",wt="/assets/c2e03-BeH9Olgy.png",vt="/assets/daylight_views01-CSpEPJuv.png",xt="/assets/daylight_views04-D-Rk4tp6.png",_t="/assets/daylight_views10-BLeoJXlm.png",St="/assets/daylight_views11-Bm_EmXse.png",Tt="/assets/daylight_views12-AJl8haO7.png",At="/assets/df_profile-sq-BDFdfX1x.png",$t="/assets/kalamata01-47A-OCHS.mp4",Rt="/assets/kalamata02-BxtWPv5j.png",Ct="/assets/kalamata03-BEe23m5J.png",zt="/assets/kalamata04-DQYVkJmu.png",Et="/assets/mds01-ChGRzQ-Y.png",Lt="/assets/mds02-DwlbYCk7.jpg",Pt="/assets/network01-ChRVJcnb.png",It="/assets/network02-CAGdCsaz.png",jt="/assets/nycd111-sm-CTpOeMD4.mp4",Dt="/assets/nycd316-CaySwMae.mp4",Mt="/assets/rk01-B7Lkc2Tp.png",Bt="/assets/rk02-D2nyfNqD.png",qt="/assets/rk03-D8JEhKQw.png",Ot="/assets/rk04-DLXCdemP.png",Nt="/assets/thesis01-DnVG55o5.jpg",Ht="/assets/thesis01-11Ntagj0.png",Gt="/assets/thesis02-JYqnWDoJ.png",Ut="/assets/thesis03-BNgkIhNT.png",Wt="/assets/whirlwind01-D5kwCByu.png",Ft="/assets/whirlwind02-CHAlmnjw.png",Zt="/assets/whirlwind03-eD_aKzZU.png",Vt="/assets/whirlwind04-CaCBE9db.png";function ne(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let C=ne();function Qt(a){C=a}const B={exec:()=>null};function m(a,e=""){let t=typeof a=="string"?a:a.source;const n={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(v.caret,"$1"),t=t.replace(i,o),n},getRegex:()=>new RegExp(t,e)};return n}const v={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:a=>new RegExp(`^( {0,3}${a})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:a=>new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:a=>new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:a=>new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:a=>new RegExp(`^ {0,${Math.min(3,a-1)}}#`),htmlBeginRegex:a=>new RegExp(`^ {0,${Math.min(3,a-1)}}<(?:[a-z].*>|!--)`,"i")},Mn=/^(?:[ \t]*(?:\n|$))+/,Bn=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,qn=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,N=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,On=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ie=/(?:[*+-]|\d{1,9}[.)])/,Jt=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Xt=m(Jt).replace(/bull/g,ie).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Nn=m(Jt).replace(/bull/g,ie).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),se=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Hn=/^[^\n]+/,ae=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Gn=m(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ae).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Un=m(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ie).getRegex(),Z="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",oe=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Wn=m("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",oe).replace("tag",Z).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Kt=m(se).replace("hr",N).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z).getRegex(),Fn=m(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Kt).getRegex(),re={blockquote:Fn,code:Bn,def:Gn,fences:qn,heading:On,hr:N,html:Wn,lheading:Xt,list:Un,newline:Mn,paragraph:Kt,table:B,text:Hn},be=m("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",N).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z).getRegex(),Zn={...re,lheading:Nn,table:be,paragraph:m(se).replace("hr",N).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",be).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z).getRegex()},Vn={...re,html:m(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",oe).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:m(se).replace("hr",N).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xt).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Qn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Jn=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Yt=/^( {2,}|\\)\n(?!\s*$)/,Xn=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,V=/[\p{P}\p{S}]/u,le=/[\s\p{P}\p{S}]/u,en=/[^\s\p{P}\p{S}]/u,Kn=m(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,le).getRegex(),tn=/(?!~)[\p{P}\p{S}]/u,Yn=/(?!~)[\s\p{P}\p{S}]/u,ei=/(?:[^\s\p{P}\p{S}]|~)/u,ti=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,nn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ni=m(nn,"u").replace(/punct/g,V).getRegex(),ii=m(nn,"u").replace(/punct/g,tn).getRegex(),sn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",si=m(sn,"gu").replace(/notPunctSpace/g,en).replace(/punctSpace/g,le).replace(/punct/g,V).getRegex(),ai=m(sn,"gu").replace(/notPunctSpace/g,ei).replace(/punctSpace/g,Yn).replace(/punct/g,tn).getRegex(),oi=m("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,en).replace(/punctSpace/g,le).replace(/punct/g,V).getRegex(),ri=m(/\\(punct)/,"gu").replace(/punct/g,V).getRegex(),li=m(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ci=m(oe).replace("(?:-->|$)","-->").getRegex(),pi=m("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ci).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),G=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,di=m(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",G).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),an=m(/^!?\[(label)\]\[(ref)\]/).replace("label",G).replace("ref",ae).getRegex(),on=m(/^!?\[(ref)\](?:\[\])?/).replace("ref",ae).getRegex(),ui=m("reflink|nolink(?!\\()","g").replace("reflink",an).replace("nolink",on).getRegex(),ce={_backpedal:B,anyPunctuation:ri,autolink:li,blockSkip:ti,br:Yt,code:Jn,del:B,emStrongLDelim:ni,emStrongRDelimAst:si,emStrongRDelimUnd:oi,escape:Qn,link:di,nolink:on,punctuation:Kn,reflink:an,reflinkSearch:ui,tag:pi,text:Xn,url:B},hi={...ce,link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",G).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",G).getRegex()},ee={...ce,emStrongRDelimAst:ai,emStrongLDelim:ii,url:m(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},gi={...ee,br:m(Yt).replace("{2,}","*").getRegex(),text:m(ee.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},H={normal:re,gfm:Zn,pedantic:Vn},j={normal:ce,gfm:ee,breaks:gi,pedantic:hi},mi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ye=a=>mi[a];function T(a,e){if(e){if(v.escapeTest.test(a))return a.replace(v.escapeReplace,ye)}else if(v.escapeTestNoEncode.test(a))return a.replace(v.escapeReplaceNoEncode,ye);return a}function ke(a){try{a=encodeURI(a).replace(v.percentDecode,"%")}catch{return null}return a}function we(a,e){var s;const t=a.replace(v.findPipe,(o,r,p)=>{let l=!1,c=r;for(;--c>=0&&p[c]==="\\";)l=!l;return l?"|":" |"}),n=t.split(v.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(v.slashPipe,"|");return n}function D(a,e,t){const n=a.length;if(n===0)return"";let i=0;for(;i<n&&a.charAt(n-i-1)===e;)i++;return a.slice(0,n-i)}function fi(a,e){if(a.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<a.length;n++)if(a[n]==="\\")n++;else if(a[n]===e[0])t++;else if(a[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function ve(a,e,t,n,i){const s=e.href,o=e.title||null,r=a[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;const p={type:a[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:o,text:r,tokens:n.inlineTokens(r)};return n.state.inLink=!1,p}function bi(a,e,t){const n=a.match(t.other.indentCodeCompensation);if(n===null)return e;const i=n[1];return e.split(`
`).map(s=>{const o=s.match(t.other.beginningSpace);if(o===null)return s;const[r]=o;return r.length>=i.length?s.slice(i.length):s}).join(`
`)}class U{constructor(e){b(this,"options");b(this,"rules");b(this,"lexer");this.options=e||C}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:D(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=bi(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const i=D(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:D(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=D(t[0],`
`).split(`
`),i="",s="";const o=[];for(;n.length>0;){let r=!1;const p=[];let l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))p.push(n[l]),r=!0;else if(!r)p.push(n[l]);else break;n=n.slice(l);const c=p.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,s=s?`${s}
${d}`:d;const u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,o,!0),this.lexer.state.top=u,n.length===0)break;const h=o.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){const k=h,y=k.raw+`
`+n.join(`
`),x=this.blockquote(y);o[o.length-1]=x,i=i.substring(0,i.length-k.raw.length)+x.raw,s=s.substring(0,s.length-k.text.length)+x.text;break}else if((h==null?void 0:h.type)==="list"){const k=h,y=k.raw+`
`+n.join(`
`),x=this.list(y);o[o.length-1]=x,i=i.substring(0,i.length-h.raw.length)+x.raw,s=s.substring(0,s.length-k.raw.length)+x.raw,n=y.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let r=!1;for(;e;){let l=!1,c="",d="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let u=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,X=>" ".repeat(3*X.length)),h=e.split(`
`,1)[0],k=!u.trim(),y=0;if(this.options.pedantic?(y=2,d=u.trimStart()):k?y=t[1].length+1:(y=t[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,d=u.slice(y),y+=t[1].length),k&&this.rules.other.blankLine.test(h)&&(c+=h+`
`,e=e.substring(h.length+1),l=!0),!l){const X=this.rules.other.nextBulletRegex(y),ge=this.rules.other.hrRegex(y),me=this.rules.other.fencesBeginRegex(y),fe=this.rules.other.headingBeginRegex(y),un=this.rules.other.htmlBeginRegex(y);for(;e;){const K=e.split(`
`,1)[0];let I;if(h=K,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),I=h):I=h.replace(this.rules.other.tabCharGlobal,"    "),me.test(h)||fe.test(h)||un.test(h)||X.test(h)||ge.test(h))break;if(I.search(this.rules.other.nonSpaceChar)>=y||!h.trim())d+=`
`+I.slice(y);else{if(k||u.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||me.test(u)||fe.test(u)||ge.test(u))break;d+=`
`+h}!k&&!h.trim()&&(k=!0),c+=K+`
`,e=e.substring(K.length+1),u=I.slice(y)}}s.loose||(r?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(r=!0));let x=null,he;this.options.gfm&&(x=this.rules.other.listIsTask.exec(d),x&&(he=x[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!x,checked:he,loose:!1,text:d,tokens:[]}),s.raw+=c}const p=s.items.at(-1);if(p)p.raw=p.raw.trimEnd(),p.text=p.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){const c=s.items[l].tokens.filter(u=>u.type==="space"),d=c.length>0&&c.some(u=>this.rules.other.anyLine.test(u.raw));s.loose=d}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:s}}}table(e){var r;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=we(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(r=t[3])!=null&&r.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const p of i)this.rules.other.tableAlignRight.test(p)?o.align.push("right"):this.rules.other.tableAlignCenter.test(p)?o.align.push("center"):this.rules.other.tableAlignLeft.test(p)?o.align.push("left"):o.align.push(null);for(let p=0;p<n.length;p++)o.header.push({text:n[p],tokens:this.lexer.inline(n[p]),header:!0,align:o.align[p]});for(const p of s)o.rows.push(we(p,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const o=D(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=fi(t[2],"()");if(o===-2)return;if(o>-1){const p=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,p).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),ve(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[i.toLowerCase()];if(!s){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return ve(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...i[0]].length-1;let r,p,l=o,c=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(i=d.exec(t))!=null;){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(p=[...r].length,i[3]||i[4]){l+=p;continue}else if((i[5]||i[6])&&o%3&&!((o+p)%3)){c+=p;continue}if(l-=p,l>0)continue;p=Math.min(p,p+l+c);const u=[...i[0]][0].length,h=e.slice(0,o+i.index+u+p);if(Math.min(o,p)%2){const y=h.slice(1,-1);return{type:"em",raw:h,text:y,tokens:this.lexer.inlineTokens(y)}}const k=h.slice(2,-2);return{type:"strong",raw:h,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let i,s;if(t[2]==="@")i=t[0],s="mailto:"+i;else{let o;do o=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(o!==t[0]);i=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class _{constructor(e){b(this,"tokens");b(this,"options");b(this,"state");b(this,"tokenizer");b(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||C,this.options.tokenizer=this.options.tokenizer||new U,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:v,block:H.normal,inline:j.normal};this.options.pedantic?(t.block=H.pedantic,t.inline=j.pedantic):this.options.gfm&&(t.block=H.gfm,this.options.breaks?t.inline=j.breaks:t.inline=j.gfm),this.tokenizer.rules=t}static get rules(){return{block:H,inline:j}}static lex(e,t){return new _(t).lex(e)}static lexInline(e,t){return new _(t).inlineTokens(e)}lex(e){e=e.replace(v.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var i,s,o;for(this.options.pedantic&&(e=e.replace(v.tabCharGlobal,"    ").replace(v.spaceLine,""));e;){let r;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(l=>(r=l.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);const l=t.at(-1);r.raw.length===1&&l!==void 0?l.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);const l=t.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+r.raw,l.text+=`
`+r.text,this.inlineQueue.at(-1).src=l.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);const l=t.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+r.raw,l.text+=`
`+r.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let p=e;if((o=this.options.extensions)!=null&&o.startBlock){let l=1/0;const c=e.slice(1);let d;this.options.extensions.startBlock.forEach(u=>{d=u.call({lexer:this},c),typeof d=="number"&&d>=0&&(l=Math.min(l,d))}),l<1/0&&l>=0&&(p=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(p))){const l=t.at(-1);n&&(l==null?void 0:l.type)==="paragraph"?(l.raw+=`
`+r.raw,l.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(r),n=p.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);const l=t.at(-1);(l==null?void 0:l.type)==="text"?(l.raw+=`
`+r.raw,l.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var r,p,l;let n=e,i=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;e;){s||(o=""),s=!1;let c;if((p=(r=this.options.extensions)==null?void 0:r.inline)!=null&&p.some(u=>(c=u.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);const u=t.at(-1);c.type==="text"&&(u==null?void 0:u.type)==="text"?(u.raw+=c.raw,u.text+=c.text):t.push(c);continue}if(c=this.tokenizer.emStrong(e,n,o)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),t.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),t.push(c);continue}let d=e;if((l=this.options.extensions)!=null&&l.startInline){let u=1/0;const h=e.slice(1);let k;this.options.extensions.startInline.forEach(y=>{k=y.call({lexer:this},h),typeof k=="number"&&k>=0&&(u=Math.min(u,k))}),u<1/0&&u>=0&&(d=e.substring(0,u+1))}if(c=this.tokenizer.inlineText(d)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(o=c.raw.slice(-1)),s=!0;const u=t.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=c.raw,u.text+=c.text):t.push(c);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class W{constructor(e){b(this,"options");b(this,"parser");this.options=e||C}space(e){return""}code({text:e,lang:t,escaped:n}){var o;const i=(o=(t||"").match(v.notSpaceStart))==null?void 0:o[0],s=e.replace(v.endingNewline,"")+`
`;return i?'<pre><code class="language-'+T(i)+'">'+(n?s:T(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:T(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let i="";for(let r=0;r<e.items.length;r++){const p=e.items[r];i+=this.listitem(p)}const s=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(e){var n;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+T(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let i="";for(let s=0;s<e.rows.length;s++){const o=e.rows[s];n="";for(let r=0;r<o.length;r++)n+=this.tablecell(o[r]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${T(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const i=this.parser.parseInline(n),s=ke(e);if(s===null)return i;e=s;let o='<a href="'+e+'"';return t&&(o+=' title="'+T(t)+'"'),o+=">"+i+"</a>",o}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));const s=ke(e);if(s===null)return T(n);e=s;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${T(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:T(e.text)}}class pe{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class S{constructor(e){b(this,"options");b(this,"renderer");b(this,"textRenderer");this.options=e||C,this.options.renderer=this.options.renderer||new W,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new pe}static parse(e,t){return new S(t).parse(e)}static parseInline(e,t){return new S(t).parseInline(e)}parse(e,t=!0){var i,s;let n="";for(let o=0;o<e.length;o++){const r=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[r.type]){const l=r,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){n+=c||"";continue}}const p=r;switch(p.type){case"space":{n+=this.renderer.space(p);continue}case"hr":{n+=this.renderer.hr(p);continue}case"heading":{n+=this.renderer.heading(p);continue}case"code":{n+=this.renderer.code(p);continue}case"table":{n+=this.renderer.table(p);continue}case"blockquote":{n+=this.renderer.blockquote(p);continue}case"list":{n+=this.renderer.list(p);continue}case"html":{n+=this.renderer.html(p);continue}case"paragraph":{n+=this.renderer.paragraph(p);continue}case"text":{let l=p,c=this.renderer.text(l);for(;o+1<e.length&&e[o+1].type==="text";)l=e[++o],c+=`
`+this.renderer.text(l);t?n+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):n+=c;continue}default:{const l='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(e,t=this.renderer){var i,s;let n="";for(let o=0;o<e.length;o++){const r=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[r.type]){const l=this.options.extensions.renderers[r.type].call({parser:this},r);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=l||"";continue}}const p=r;switch(p.type){case"escape":{n+=t.text(p);break}case"html":{n+=t.html(p);break}case"link":{n+=t.link(p);break}case"image":{n+=t.image(p);break}case"strong":{n+=t.strong(p);break}case"em":{n+=t.em(p);break}case"codespan":{n+=t.codespan(p);break}case"br":{n+=t.br(p);break}case"del":{n+=t.del(p);break}case"text":{n+=t.text(p);break}default:{const l='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}}class q{constructor(e){b(this,"options");b(this,"block");this.options=e||C}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?_.lex:_.lexInline}provideParser(){return this.block?S.parse:S.parseInline}}b(q,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class yi{constructor(...e){b(this,"defaults",ne());b(this,"options",this.setOptions);b(this,"parse",this.parseMarkdown(!0));b(this,"parseInline",this.parseMarkdown(!1));b(this,"Parser",S);b(this,"Renderer",W);b(this,"TextRenderer",pe);b(this,"Lexer",_);b(this,"Tokenizer",U);b(this,"Hooks",q);this.use(...e)}walkTokens(e,t){var i,s;let n=[];for(const o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{const r=o;for(const p of r.header)n=n.concat(this.walkTokens(p.tokens,t));for(const p of r.rows)for(const l of p)n=n.concat(this.walkTokens(l.tokens,t));break}case"list":{const r=o;n=n.concat(this.walkTokens(r.items,t));break}default:{const r=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[r.type]?this.defaults.extensions.childTokens[r.type].forEach(p=>{const l=r[p].flat(1/0);n=n.concat(this.walkTokens(l,t))}):r.tokens&&(n=n.concat(this.walkTokens(r.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=t.renderers[s.name];o?t.renderers[s.name]=function(...r){let p=s.renderer.apply(this,r);return p===!1&&(p=o.apply(this,r)),p}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),n.renderer){const s=this.defaults.renderer||new W(this.defaults);for(const o in n.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const r=o,p=n.renderer[r],l=s[r];s[r]=(...c)=>{let d=p.apply(s,c);return d===!1&&(d=l.apply(s,c)),d||""}}i.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new U(this.defaults);for(const o in n.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const r=o,p=n.tokenizer[r],l=s[r];s[r]=(...c)=>{let d=p.apply(s,c);return d===!1&&(d=l.apply(s,c)),d}}i.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new q;for(const o in n.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const r=o,p=n.hooks[r],l=s[r];q.passThroughHooks.has(o)?s[r]=c=>{if(this.defaults.async)return Promise.resolve(p.call(s,c)).then(u=>l.call(s,u));const d=p.call(s,c);return l.call(s,d)}:s[r]=(...c)=>{let d=p.apply(s,c);return d===!1&&(d=l.apply(s,c)),d}}i.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,o=n.walkTokens;i.walkTokens=function(r){let p=[];return p.push(o.call(this,r)),s&&(p=p.concat(s.call(this,r))),p}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return _.lex(e,t??this.defaults)}parser(e,t){return S.parse(e,t??this.defaults)}parseMarkdown(e){return(n,i)=>{const s={...i},o={...this.defaults,...s},r=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&s.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const p=o.hooks?o.hooks.provideLexer():e?_.lex:_.lexInline,l=o.hooks?o.hooks.provideParser():e?S.parse:S.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(c=>p(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(r);try{o.hooks&&(n=o.hooks.preprocess(n));let c=p(n,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let d=l(c,o);return o.hooks&&(d=o.hooks.postprocess(d)),d}catch(c){return r(c)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+T(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}}const R=new yi;function f(a,e){return R.parse(a,e)}f.options=f.setOptions=function(a){return R.setOptions(a),f.defaults=R.defaults,Qt(f.defaults),f};f.getDefaults=ne;f.defaults=C;f.use=function(...a){return R.use(...a),f.defaults=R.defaults,Qt(f.defaults),f};f.walkTokens=function(a,e){return R.walkTokens(a,e)};f.parseInline=R.parseInline;f.Parser=S;f.parser=S.parse;f.Renderer=W;f.TextRenderer=pe;f.Lexer=_;f.lexer=_.lex;f.Tokenizer=U;f.Hooks=q;f.parse=f;f.options;f.setOptions;f.use;f.walkTokens;f.parseInline;const ki=f;S.parse;_.lex;const rn=ue(Object.assign({"../content/about.json":fn})),wi=ue(Object.assign({"../content/services/approach.json":yn,"../content/services/tools.json":wn})),Q=ue(Object.assign({"../content/work/bh.json":xn,"../content/work/kalamata.json":Sn,"../content/work/network.json":An,"../content/work/office_value.json":Rn,"../content/work/rangekeeper.json":zn,"../content/work/thesis.json":Ln,"../content/work/utps.json":In,"../content/work/whirlwind.json":Dn}));let F=[],A,w,$,O;function vi(){F=rn;const a=document.createElement("div");return a.className="content-container",A=document.createElement("div"),A.className="content-header",a.appendChild(A),w=document.createElement("div"),w.className="content-items",w.addEventListener("scroll",de),w.addEventListener("click",xi),a.appendChild(w),Ri(),E(F),a}function xi(a){const e=a.target.closest('a[href^="#"]');if(!e)return;a.preventDefault();const t=e.getAttribute("href").substring(1);E(Q,t)}function E(a,e){var t;F=a,A.textContent=((t=a[0])==null?void 0:t.title)??"",w.innerHTML="",a.forEach(n=>w.appendChild(Ci(n))),de(),e&&Si(e)}function _i(){w&&(w.scrollTo({top:0,behavior:"smooth"}),setTimeout(de,500))}function Si(a){requestAnimationFrame(()=>{const e=w.querySelector(`.story[data-id="${a}"]`);if(!e)return;const t=e.querySelector(".story-title"),n=Array.from(e.querySelectorAll("img, video")),i=Ti(n);Ai(t,i)})}function Ti(a){return a.map(e=>new Promise(t=>{if(e instanceof HTMLImageElement&&e.complete||e instanceof HTMLVideoElement&&e.readyState>=1)t();else{const n=e instanceof HTMLImageElement?"load":"loadedmetadata";e.addEventListener(n,()=>t(),{once:!0})}}))}function Ai(a,e){Promise.all(e).then(()=>{w.scrollTop=0,requestAnimationFrame(()=>{w.offsetHeight,requestAnimationFrame(()=>{requestAnimationFrame(()=>{const t=A.getBoundingClientRect().top,n=w.getBoundingClientRect().top,s=a.getBoundingClientRect().top-n,o=t-n,r=s-o;w.scrollTo({top:r,behavior:"smooth"}),$i(a)})})})})}function $i(a){setTimeout(()=>{const e=a.getBoundingClientRect().top,t=A.getBoundingClientRect().top;if(Math.abs(e-t)>2){const n=e-t;w.scrollBy({top:n,behavior:"auto"})}},1e3)}function de(){var t,n;const a=w.scrollTop+A.offsetHeight;let e=((t=F[0])==null?void 0:t.title)??"";for(const i of w.querySelectorAll(".story")){if(i.offsetTop>a)break;const s=(n=i.querySelector(".story-title"))==null?void 0:n.textContent;s&&(e=s)}A.textContent=e}function Ri(){$=document.createElement("div"),$.className="media-modal-overlay",$.addEventListener("click",()=>$.classList.remove("open")),O=document.createElement("div"),O.className="media-modal-content",$.appendChild(O),document.getElementById("app").appendChild($)}function ln(a){O.innerHTML="",O.appendChild(a),$.classList.add("open")}function ue(a){return Object.values(a).map(e=>e.default).sort(({index:e=0},{index:t=0})=>e-t)}function Ci(a){const e=document.createElement("div");if(e.className="story",!a.title)throw new Error("Missing title in content record");e.dataset.id=a.title,e.id=a.title;const t=document.createElement("div");t.className="story-title",t.textContent=a.title,e.appendChild(t);const n=document.createElement("div");if(n.className="story-container",a.date){const i=document.createElement("p");i.className="date",i.textContent=zi(a.date),n.appendChild(i)}if(a.description){const i=document.createElement("p");i.className="description",i.textContent=a.description,n.appendChild(i)}return a.blocks.forEach(i=>{n.appendChild(Ei(i))}),e.appendChild(n),e}function zi(a){return new Date(a).toLocaleDateString(void 0,{day:"numeric",month:"long",year:"numeric"})}function Ei(a){switch(a.type){case"body":return Li(a.value);case"image":return Pi(a.value,{popout:a.popout});case"video":return Ii(a.value);case"caption":return ji(a.value);case"subtitle":return Di(a.value);default:throw new Error(`Unknown item type: ${a.type}`)}}function Li(a){const e=document.createElement("div");return e.className="body",e.innerHTML=ki(a),e}function Pi(a,e){const t=document.createElement("div");t.className="video-wrapper";const n=new Image;if(n.src=new URL(Object.assign({"../content/media/bh01.png":ft,"../content/media/c2e01.jpg":bt,"../content/media/c2e02.jpg":yt,"../content/media/c2e02.png":kt,"../content/media/c2e03.png":wt,"../content/media/daylight_views01.png":vt,"../content/media/daylight_views04.png":xt,"../content/media/daylight_views10.png":_t,"../content/media/daylight_views11.png":St,"../content/media/daylight_views12.png":Tt,"../content/media/df_profile-sq.png":At,"../content/media/kalamata01.mp4":$t,"../content/media/kalamata02.png":Rt,"../content/media/kalamata03.png":Ct,"../content/media/kalamata04.png":zt,"../content/media/mds01.png":Et,"../content/media/mds02.jpg":Lt,"../content/media/network01.png":Pt,"../content/media/network02.png":It,"../content/media/nycd111-sm.mp4":jt,"../content/media/nycd316.mp4":Dt,"../content/media/rk01.png":Mt,"../content/media/rk02.png":Bt,"../content/media/rk03.png":qt,"../content/media/rk04.png":Ot,"../content/media/thesis01.jpg":Nt,"../content/media/thesis01.png":Ht,"../content/media/thesis02.png":Gt,"../content/media/thesis03.png":Ut,"../content/media/whirlwind01.png":Wt,"../content/media/whirlwind02.png":Ft,"../content/media/whirlwind03.png":Zt,"../content/media/whirlwind04.png":Vt})[`../content/media/${a}`],import.meta.url).href,n.style.display="block",t.appendChild(n),(e==null?void 0:e.popout)!==!1){const s=cn(()=>{const o=n.cloneNode(!0);ln(o)});t.appendChild(s)}return t}function Ii(a){const e=document.createElement("div");e.className="video-wrapper";const t=document.createElement("video");t.src=new URL(Object.assign({"../content/media/bh01.png":ft,"../content/media/c2e01.jpg":bt,"../content/media/c2e02.jpg":yt,"../content/media/c2e02.png":kt,"../content/media/c2e03.png":wt,"../content/media/daylight_views01.png":vt,"../content/media/daylight_views04.png":xt,"../content/media/daylight_views10.png":_t,"../content/media/daylight_views11.png":St,"../content/media/daylight_views12.png":Tt,"../content/media/df_profile-sq.png":At,"../content/media/kalamata01.mp4":$t,"../content/media/kalamata02.png":Rt,"../content/media/kalamata03.png":Ct,"../content/media/kalamata04.png":zt,"../content/media/mds01.png":Et,"../content/media/mds02.jpg":Lt,"../content/media/network01.png":Pt,"../content/media/network02.png":It,"../content/media/nycd111-sm.mp4":jt,"../content/media/nycd316.mp4":Dt,"../content/media/rk01.png":Mt,"../content/media/rk02.png":Bt,"../content/media/rk03.png":qt,"../content/media/rk04.png":Ot,"../content/media/thesis01.jpg":Nt,"../content/media/thesis01.png":Ht,"../content/media/thesis02.png":Gt,"../content/media/thesis03.png":Ut,"../content/media/whirlwind01.png":Wt,"../content/media/whirlwind02.png":Ft,"../content/media/whirlwind03.png":Zt,"../content/media/whirlwind04.png":Vt})[`../content/media/${a}`],import.meta.url).href,t.controls=!1,t.loop=!0,t.muted=!0,t.setAttribute("playsinline",""),/iPad|iPhone|iPod/.test(navigator.userAgent)?setTimeout(()=>{t.autoplay=!0},300):t.autoplay=!0,t.className="animation",e.appendChild(t);const i=cn(()=>{if(window.event&&!window.event.isTrusted)return;const s=t.cloneNode(!0);s.controls=!0,ln(s)});return e.appendChild(i),e}function ji(a){const e=document.createElement("p");return e.textContent=a,e.className="caption",e}function Di(a){const e=document.createElement("h4");return e.textContent=a,e.className="subtitle",e}function cn(a){const e=document.createElement("button");return e.className="popout-button",e.innerHTML='<i class="fa-solid fa-up-right-from-square"></i>',e.addEventListener("click",a),e}const P=50*16,Mi=["About","Services","Selected Work"];let M,g,te,L=0,pn=0;function Bi(){M=document.createElement("div"),M.className="menu-container",te=Ui(),M.appendChild(te),g=Zi(),Ni(),M.appendChild(g),window.addEventListener("resize",Oi);const a=document.querySelector(".content-items");return a&&a.addEventListener("scroll",Hi),document.addEventListener("wheel",Gi,{passive:!0}),qi(),M}function qi(){requestAnimationFrame(()=>{g.style.position="absolute",g.style.visibility="hidden",g.style.maxHeight="none",g.classList.add("open"),L=g.offsetHeight,pn=te.offsetHeight,g.style.position="",g.style.visibility="",g.style.maxHeight="",g.classList.remove("open"),document.documentElement.style.setProperty("--menu-items-max-height",`${L}px`),window.innerWidth<=P&&(g.classList.add("open"),z())})}function Oi(){window.innerWidth<=P&&(g.classList.contains("open")||(g.classList.add("open"),z()))}function Ni(){g.querySelectorAll(".menu-item, .sub-menu-item").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<=P&&(g.classList.remove("open"),z())})})}function Hi(a){window.innerWidth>P||g.classList.contains("open")&&(g.classList.remove("open"),z())}function Gi(a){window.innerWidth>P||a.deltaY>0&&(g.classList.remove("open"),z())}function z(){const a=pn+(g.classList.contains("open")?L:0);document.documentElement.style.setProperty("--menu-total-height",`${a}px`)}function Ui(){const a=document.createElement("div");a.className="menu-header";const e=document.createElement("div");e.className="menu-header-text",e.textContent="Daniel Fink",e.style.cursor="pointer",e.addEventListener("click",()=>{window.innerWidth<=P?dn():_i()}),a.appendChild(e);const t=Wi();return a.appendChild(t),a}function Wi(){const a=document.createElement("div");return a.className="hamburger",a.textContent="☰",a.addEventListener("click",dn),a}function dn(){const a=!g.classList.contains("open");if(document.documentElement.style.setProperty("--menu-items-max-height",`${L}px`),a){g.classList.add("open");const e=g.querySelector(".menu-item:has(.sub-menu)");e&&e.classList.add("expanded"),requestAnimationFrame(Fi)}else{g.classList.remove("open");const e=g.querySelector(".menu-item.expanded");e&&e.classList.remove("expanded")}setTimeout(z,10)}function Fi(){const a=g.style.maxHeight;g.style.maxHeight="none",L=g.offsetHeight,g.style.maxHeight=a,document.documentElement.style.setProperty("--menu-items-max-height",`${L}px`),z()}function Zi(){const a=document.createElement("div");return a.className="menu-items",Mi.forEach(e=>{const t=Vi(e);a.appendChild(t)}),a}function Vi(a){const e=document.createElement("div");if(e.className="menu-item",e.textContent=a,e.addEventListener("click",()=>Qi(a)),a==="Selected Work"){const t=Ji();e.appendChild(t)}return e}function Qi(a){switch(a){case"About":E(rn);break;case"Services":E(wi);break;case"Selected Work":E(Q);break}}function Ji(){const a=document.createElement("div");return a.className="sub-menu",Q.forEach(e=>{const t=Xi(e);a.appendChild(t)}),a}function Xi(a){const e=document.createElement("div");return e.className="sub-menu-item",e.textContent=a.title||"",e.dataset.target=a.title||"",e.addEventListener("click",t=>{t.stopPropagation(),Ki(e.dataset.target)}),e}function Ki(a){E(Q,a),g.classList.contains("open")&&g.classList.remove("open")}const Y=document.getElementById("app"),J=document.createElement("div");J.className="columns";const Yi=Bi();J.append(Yi);const es=vi();J.append(es);Y==null||Y.appendChild(J);
